一. 以一定的时间间隔运行作业
以一定的时间间隔运行作业需要使用cron设施进行管理,它由crond守护进程和一组表
(描述执行哪些操作和采用什么样的频率)组成.这个守护进程每分钟唤醒一次,并通过
检查crontab判断需要做什么.用户使用crontab命令管理crontab.crond守护进程常常
是在系统启用时由init进程启动.
(1)创建crontab: 使用 crontab 命令和 -e (表示edit)选项创建crontab. 每个
crontab 条目包含六个字段: 分钟, 小时, 日, 月, 星期, 由sh执行的字符串
分钟和小时的范围分别是0-59和0-12,日和月的范围分别是1-31和1-12.星期的范围是
0-6, 0表示星期日.星期也可以指定为sum,mon,tue等等.第6个字段包含前5个字度之后
的所有内容,它是要传递给sh的字符串.百分号(%)将转换为空行,所以如果要使用% 或
其他特殊字符,就要在前面加上反斜线(\).第一个 % 之前的一行传递给shell,这个 %
之后的所有行都作为标准输入传递.
各个与时间相关的字段可以指定一个单独的值,值的范围(比如0-10,sun-wed),或者以
逗号分割的单独值和范围列表. 一个简单的crontab示例如下:
0,20,40 22-23 * 7 fri-sat /bin/mycrontest.sh
该示例表示,在7月的每个星期五和星期六晚上10点到午夜之间的第0,20,40分钟的时
候,执行 /bin/mycrontest.sh 脚本.
(2) 查看crontab: 使用 crontab -l 命令查看crontab的内容.
